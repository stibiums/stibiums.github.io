document.addEventListener("DOMContentLoaded",(function(){function t(t,e,o=1e3){const n=e/(o/16);let c=0;const s=setInterval((()=>{c+=n,c>=e&&(c=e,clearInterval(s)),t.textContent=Math.floor(c)}),16)}async function e(){try{const e=await fetch(`https://api.github.com/users/${i}`);if(e.ok){const o=await e.json(),n=document.getElementById("github-repos");n&&t(n,o.public_repos||0)}else document.getElementById("github-repos").textContent="~"}catch(t){document.getElementById("github-repos").textContent="~"}}async function o(){try{const e=await fetch(`https://api.github.com/users/${i}/repos?per_page=100`);if(e.ok){const o=(await e.json()).reduce(((t,e)=>t+(e.stargazers_count||0)),0),n=document.getElementById("github-stars");n&&t(n,o)}else document.getElementById("github-stars").textContent="~"}catch(t){document.getElementById("github-stars").textContent="~"}}async function n(){try{const e=await fetch("/feed.json");if(e.ok){const o=await e.json(),n=o.items?o.items.length:0,c=document.getElementById("blog-posts");return void(c&&t(c,n))}}catch(t){}try{const e=await fetch("/sitemap.xml");if(e.ok){const o=(await e.text()).match(/\/\d{4}\/\d{2}\/\d{2}\//g);if(o){const e=document.getElementById("blog-posts");return void(e&&t(e,o.length))}}}catch(t){}const e=document.getElementById("blog-posts");e&&t(e,11)}async function c(){try{const e=await fetch("/projects/");if(e.ok){const o=await e.text(),n=o.match(/class="[^"]*project[^"]*"[^>]*>/gi)||o.match(/href="[^"]*\/projects\/[^"]*"/g);if(n){const e=document.getElementById("projects-count");if(e){t(e,new Set(n).size)}return}}}catch(t){}try{const e=await fetch("/sitemap.xml");if(e.ok){const o=(await e.text()).match(/\/projects\/[^<]+/g);if(o){const e=document.getElementById("projects-count");return void(e&&t(e,o.length))}}}catch(t){}const e=document.getElementById("projects-count");e&&t(e,4)}function s(){const t="dark"===document.documentElement.getAttribute("data-theme"),e=document.querySelector(".github-stats-img"),o=document.querySelector(".github-langs-img");if(e&&o){const n=`https://github-readme-stats.vercel.app/api?username=${i}&show_icons=true&hide_border=true`,c=`https://github-readme-stats.vercel.app/api/top-langs/?username=${i}&layout=compact&hide_border=true`;t?(e.src=n+"&theme=dark&title_color=2698ba&icon_color=2698ba&text_color=c9c9c9&bg_color=1c1c1d",o.src=c+"&theme=dark&title_color=2698ba&text_color=c9c9c9&bg_color=1c1c1d"):(e.src=n+"&theme=transparent&title_color=b509ac&icon_color=b509ac&text_color=333",o.src=c+"&theme=transparent&title_color=b509ac&text_color=333")}}function a(){e(),o(),n(),c(),s()}function r(){document.addEventListener("click",(function(t){const e=t.target.closest(".clickable");if(e&&e.dataset.url){const t=e.dataset.url;t.startsWith("http://")||t.startsWith("https://")?window.open(t,"_blank","noopener,noreferrer"):window.location.href=t}})),document.addEventListener("keydown",(function(t){if("Enter"===t.key||" "===t.key){const e=t.target.closest(".clickable");if(e&&e.dataset.url){t.preventDefault();const o=e.dataset.url;o.startsWith("http://")||o.startsWith("https://")?window.open(o,"_blank","noopener,noreferrer"):window.location.href=o}}}))}const i="stibiums";new MutationObserver((t=>{t.forEach((t=>{"attributes"===t.type&&"data-theme"===t.attributeName&&s()}))})).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),r(),a(),setInterval(a,3e5)}));