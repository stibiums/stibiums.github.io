<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> CV - 4: 特征检测 (Feature Detection) | STIBIUMS_WEB </title> <meta name="author" content="stibiums liu"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/touxiang.jpg?68b4199d95528c9129ff55a104244865"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://stibiums.github.io/notes/cv-ch04/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> STIBIUMS_WEB </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/notes/">notes <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">CV - 4: 特征检测 (Feature Detection)</h1> <p class="post-meta"> Created on September 24, 2025 </p> <p class="post-tags"> <i class="fa-solid fa-calendar fa-sm"></i> 2025   ·   <i class="fa-solid fa-hashtag fa-sm"></i> notes   <i class="fa-solid fa-hashtag fa-sm"></i> CV   <i class="fa-solid fa-hashtag fa-sm"></i> computer-vision   <i class="fa-solid fa-hashtag fa-sm"></i> feature-detection   ·   <i class="fa-solid fa-tag fa-sm"></i> CV </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="边缘检测-edge-detection">边缘检测 (Edge Detection)</h2> <h3 id="边缘的定义与重要性">边缘的定义与重要性</h3> <p>边缘包含了图像中大部分的语义和形状信息。边缘检测的目标是识别图像中的突然变化（不连续性），这些不连续性可能来自：</p> <ul> <li>表面法线不连续</li> <li>深度不连续</li> <li>表面颜色不连续</li> <li>光照不连续</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/edge_types-480.webp 480w,/assets/img/notes_img/cv-ch04/edge_types-800.webp 800w,/assets/img/notes_img/cv-ch04/edge_types-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/edge_types.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="边缘类型示例" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="边缘检测的数学基础">边缘检测的数学基础</h3> <p>边缘对应于导数的极值点。对于图像函数 $I(x,y)$：</p> <p><strong>X方向偏导数：</strong> \(\frac{\partial I(x,y)}{\partial x} = \lim_{\epsilon \to 0} \frac{I(x+\epsilon,y) - I(x,y)}{\epsilon}\)</p> <p><strong>前向差分：</strong> \(\frac{\partial I(x,y)}{\partial x} \approx \frac{I(x+1,y) - I(x,y)}{1}\)</p> <p><strong>中央差分：</strong> \(\frac{\partial I(x,y)}{\partial x} \approx \frac{I(x+1,y) - I(x-1,y)}{2}\)</p> <h3 id="图像偏导数的滤波器实现">图像偏导数的滤波器实现</h3> <p>图像的偏导数可以通过图像滤波来计算：</p> <p><strong>Prewitt算子：</strong></p> <ul> <li>水平方向：$\begin{bmatrix} -1 &amp; 0 &amp; 1 \ -1 &amp; 0 &amp; 1 \ -1 &amp; 0 &amp; 1 \end{bmatrix}$</li> <li>垂直方向：$\begin{bmatrix} 1 &amp; 1 &amp; 1 \ 0 &amp; 0 &amp; 0 \ -1 &amp; -1 &amp; -1 \end{bmatrix}$</li> </ul> <p><strong>Sobel算子：</strong></p> <ul> <li>水平方向：$\begin{bmatrix} -1 &amp; 0 &amp; 1 \ -2 &amp; 0 &amp; 2 \ -1 &amp; 0 &amp; 1 \end{bmatrix}$</li> <li>垂直方向：$\begin{bmatrix} 1 &amp; 2 &amp; 1 \ 0 &amp; 0 &amp; 0 \ -1 &amp; -2 &amp; -1 \end{bmatrix}$</li> </ul> <h3 id="噪声对导数的影响">噪声对导数的影响</h3> <p>噪声会严重影响图像导数的计算。设真实图像为 $I_{i,j}$，噪声为 $\epsilon_{i,j} \sim N(0,\sigma^2)$：</p> \[D_{i,j} = (I_{i,j+1} + \epsilon_{i,j+1}) - (I_{i,j-1} + \epsilon_{i,j-1})\] \[= (I_{i,j+1} - I_{i,j-1}) + \epsilon_{i,j+1} - \epsilon_{i,j-1}\] <p>由于 $\epsilon_{i,j} - \epsilon_{k,l} \sim N(0, 2\sigma^2)$，噪声的方差会翻倍！</p> <p><strong>解决方案：</strong> 先用高斯滤波器对图像进行预滤波，然后计算导数。</p> <h3 id="高斯导数滤波">高斯导数滤波</h3> <p>利用卷积的性质： \(\frac{d}{dx}(f * g) = f * \frac{d}{dx}g\)</p> <p>可以直接用高斯导数滤波器进行一次卷积操作。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/gaussian_derivative-480.webp 480w,/assets/img/notes_img/cv-ch04/gaussian_derivative-800.webp 800w,/assets/img/notes_img/cv-ch04/gaussian_derivative-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/gaussian_derivative.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="高斯导数滤波" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="图像梯度">图像梯度</h3> <p>图像梯度定义为： \(\nabla f = \begin{bmatrix} \frac{\partial f}{\partial x} \\ \frac{\partial f}{\partial y} \end{bmatrix}\)</p> <ul> <li> <table> <tbody> <tr> <td> <strong>梯度幅值：</strong> $</td> <td> </td> <td>\nabla f</td> <td> </td> <td>= \sqrt{(\frac{\partial f}{\partial x})^2 + (\frac{\partial f}{\partial y})^2}$</td> </tr> </tbody> </table> </li> <li> <strong>梯度方向：</strong> $\theta = \tan^{-1}(\frac{\partial f}{\partial y} / \frac{\partial f}{\partial x})$</li> </ul> <p>梯度指向强度增长最快的方向。</p> <h2 id="canny边缘检测器">Canny边缘检测器</h2> <p>Canny边缘检测是一个多步骤的边缘检测算法：</p> <h3 id="步骤1预处理">步骤1：预处理</h3> <ul> <li>灰度化转换</li> <li>高斯模糊去噪</li> </ul> <h3 id="步骤2计算梯度">步骤2：计算梯度</h3> <p>使用中央差分（如Sobel算子）计算x和y方向的梯度，然后计算梯度幅值。</p> <h3 id="步骤3非最大值抑制">步骤3：非最大值抑制</h3> <p>梯度幅值产生的边缘太粗，需要进行非最大值抑制来细化边缘：</p> <ul> <li>沿梯度方向检查邻近像素</li> <li>只保留在边缘方向上具有最大值的像素</li> <li>例如：保持 $q$ 当 $q &gt; p$ 且 $q &gt; r$ 时</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/non_maximum_suppression-480.webp 480w,/assets/img/notes_img/cv-ch04/non_maximum_suppression-800.webp 800w,/assets/img/notes_img/cv-ch04/non_maximum_suppression-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/non_maximum_suppression.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="非最大值抑制" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="步骤4双阈值处理">步骤4：双阈值处理</h3> <ul> <li>高阈值（如0.7）：强边缘候选</li> <li>低阈值（如0.3）：弱边缘候选</li> <li>中间值：待定边缘</li> </ul> <h3 id="步骤5边缘跟踪滞后处理">步骤5：边缘跟踪（滞后处理）</h3> <ul> <li>连接到强边缘的弱边缘被保留为真实边缘</li> <li>不连接到强边缘的弱边缘被删除</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/canny_result-480.webp 480w,/assets/img/notes_img/cv-ch04/canny_result-800.webp 800w,/assets/img/notes_img/cv-ch04/canny_result-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/canny_result.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Canny边缘检测结果" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="角点检测-corner-detection">角点检测 (Corner Detection)</h2> <h3 id="角点的重要性">角点的重要性</h3> <p>边缘难以精确定位，而角点可以被精确定位且更具判别性。角点是两条或多条边缘的交点。</p> <h3 id="harris角点检测器">Harris角点检测器</h3> <p>Harris角点检测的核心思想：通过测量移动小窗口时的强度变化来表征角点。</p> <p><strong>强度变化函数：</strong> \(E(u,v) = \sum_{(x,y) \in W} w(x,y)[I(x+u,y+v) - I(x,y)]^2\)</p> <h3 id="泰勒级数近似">泰勒级数近似</h3> <p>使用泰勒级数将图像函数线性化： \(I(x+u,y+v) \approx I(x,y) + I_x u + I_y v\)</p> <p>其中 $I_x = \frac{\partial I}{\partial x}$，$I_y = \frac{\partial I}{\partial y}$</p> <h3 id="二阶矩矩阵">二阶矩矩阵</h3> <p>将强度变化函数简化为二次型： \(E(u,v) = [u,v] \mathbf{M} [u,v]^T\)</p> <p>其中二阶矩矩阵 $\mathbf{M}$ 为：</p> \[\mathbf{M} = \begin{bmatrix} \sum I_x^2 &amp; \sum I_x I_y \\ \sum I_x I_y &amp; \sum I_y^2 \end{bmatrix}\] <h3 id="特征值解释">特征值解释</h3> <p>通过分析矩阵 $\mathbf{M}$ 的特征值 $\lambda_1$ 和 $\lambda_2$：</p> <ul> <li> <strong>平坦区域：</strong> $\lambda_1$ 和 $\lambda_2$ 都很小，$E$ 在所有方向几乎不变</li> <li> <strong>边缘：</strong> $\lambda_1 » \lambda_2$ 或 $\lambda_2 » \lambda_1$，$E$ 沿边缘方向不变</li> <li> <strong>角点：</strong> $\lambda_1$ 和 $\lambda_2$ 都很大且 $\lambda_1 \sim \lambda_2$，$E$ 在所有方向都增加</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/eigenvalue_interpretation-480.webp 480w,/assets/img/notes_img/cv-ch04/eigenvalue_interpretation-800.webp 800w,/assets/img/notes_img/cv-ch04/eigenvalue_interpretation-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/eigenvalue_interpretation.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="特征值解释" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="harris响应函数">Harris响应函数</h3> <p>为避免计算特征值，使用Harris响应函数： \(R = \det(\mathbf{M}) - \alpha \cdot \text{trace}(\mathbf{M})^2\) \(= \lambda_1 \lambda_2 - \alpha(\lambda_1 + \lambda_2)^2\)</p> <p>其中 $\alpha$ 是常数（通常取0.04-0.06）。</p> <h3 id="harris角点检测步骤">Harris角点检测步骤</h3> <ol> <li> <strong>预处理：</strong> 转换为灰度图并应用高斯滤波</li> <li> <strong>梯度计算：</strong> 应用Sobel算子找到x和y梯度值</li> <li> <strong>Harris值计算：</strong> 对每个像素，考虑3×3窗口计算二阶矩矩阵和角点强度函数R</li> <li><strong>阈值处理和非最大值抑制</strong></li> </ol> <h3 id="角点的性质">角点的性质</h3> <ul> <li> <strong>平移等变：</strong> 卷积运算具有平移不变性</li> <li> <strong>旋转等变：</strong> 旋转只会改变角点的旋转，特征值保持不变</li> <li> <strong>仿射强度变化部分不变：</strong> 对于 $I_{new} = \alpha I_{old} + \beta$，$\beta$ 不影响导数，但 $\alpha$ 会缩放导数</li> <li> <strong>尺度不等变：</strong> 一个像素可能变成多个像素，角点不具有尺度等变性</li> </ul> <h3 id="多尺度角点检测">多尺度角点检测</h3> <p>使用高斯金字塔在多个尺度上执行Harris检测，使角点具有尺度等变性。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/multiscale_harris-480.webp 480w,/assets/img/notes_img/cv-ch04/multiscale_harris-800.webp 800w,/assets/img/notes_img/cv-ch04/multiscale_harris-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/multiscale_harris.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="多尺度Harris检测" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="blob检测">Blob检测</h2> <h3 id="blob的定义">Blob的定义</h3> <p>Blob是数字图像中在亮度或颜色等属性上与周围区域不同的区域。Blob具有固定的位置和大小，可以被定位，是良好的兴趣点。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/blob_examples-480.webp 480w,/assets/img/notes_img/cv-ch04/blob_examples-800.webp 800w,/assets/img/notes_img/cv-ch04/blob_examples-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/blob_examples.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="2D Blob示例" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h4 id="2d-blob检测理论">2D Blob检测理论</h4> <p><strong>二维空间中的Laplacian of Gaussian：</strong></p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/blob_detection_2d-480.webp 480w,/assets/img/notes_img/cv-ch04/blob_detection_2d-800.webp 800w,/assets/img/notes_img/cv-ch04/blob_detection_2d-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/blob_detection_2d.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="二维Blob检测过程" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>在2D图像中，LoG算子的完整表达式为：</p> \[\nabla^2 G_\sigma = \frac{1}{\pi \sigma^4} \left(1 - \frac{x^2 + y^2}{2\sigma^2}\right) e^{-\frac{x^2 + y^2}{2\sigma^2}}\] <p><strong>多尺度blob检测步骤：</strong></p> <ol> <li>在多个尺度 $\sigma$ 上计算LoG响应</li> <li>在3D空间（x, y, σ）中寻找局部最大值</li> <li>最优检测尺度：blob半径 ≈ $\sqrt{2}\sigma$</li> </ol> <h3 id="点和边缘的局限性">点和边缘的局限性</h3> <ul> <li><strong>边缘难以定位</strong></li> <li><strong>点可以定位，但缺乏判别性</strong></li> </ul> <p>Blob检测常用于获得感兴趣区域以供进一步处理，是著名SIFT特征的前身。</p> <h3 id="高斯导数的边缘检测">高斯导数的边缘检测</h3> <p>对于卷积运算： \(\frac{d}{dx}[f * h] = \frac{d}{dx} \int f(\tau)h(x-\tau)d\tau = f * \frac{dh}{dx} = \frac{df}{dx} * h\)</p> <p>对于阶跃函数 $f(x) = u(x-x_0)$ 和高斯函数 $h(x) = G_\sigma(x)$： \((f * h)' = f * h' = f' * h = G_\sigma(x) * \delta(x-x_0) = G_\sigma(x-x_0)\)</p> <p>边缘位于 $x_0$ 处。使用归一化高斯导数 $\sigma G_\sigma’$ 使极值不依赖于 $\sigma$。</p> <h3 id="高斯二阶导数的边缘检测">高斯二阶导数的边缘检测</h3> <p><strong>$f * h’$ 的极值点是边缘 → $f * h’’$ 的零交叉点是边缘</strong></p> <p>对于阶跃函数和高斯函数的卷积： \(u(x-x_0) * \frac{d^2G_\sigma(x)}{dx^2} = \frac{-(x-x_0)}{\sqrt{2\pi\sigma^3}} e^{-\frac{(x-x_0)^2}{2\sigma^2}}\)</p> <p>响应在 $x = x_0$ 时为0。使用归一化二阶高斯导数 $\sigma^2 G_\sigma’’$ 使极值不依赖于 $\sigma$。</p> <h3 id="1d-blob检测与高斯二阶导数">1D Blob检测与高斯二阶导数</h3> <p>定义1D Blob为：$f(x) = u(x-x_0) - u(x-x_1)$</p> <p>用归一化高斯二阶导数滤波： \(f(x) * \sigma^2 \frac{d^2G_\sigma(x)}{dx^2} = -\frac{(x-x_0)}{\sqrt{2\pi\sigma}} e^{-\frac{(x-x_0)^2}{2\sigma^2}} + \frac{(x-x_1)}{\sqrt{2\pi\sigma}} e^{-\frac{(x-x_1)^2}{2\sigma^2}}\)</p> <p>当 $\sigma = \frac{x_1-x_0}{2}$ 时，极值重合在 $x = \frac{x_1+x_0}{2}$，实现尺度匹配。</p> <p><strong>1D Blob检测总结：</strong></p> <ul> <li>用多尺度归一化高斯二阶导数 $L(x,\sigma) = f(x) * \sigma^2 G_\sigma’‘(x)$ 滤波</li> <li>Blob通过 $L(x,\sigma)$ 的极值检测：$(\hat{x}, \hat{\sigma}) = \arg \text{MinMax } L(x,\sigma)$</li> <li>$\hat{x}$ 和 $\hat{\sigma}$ 分别是位置和特征尺寸</li> </ul> <h2 id="2d-blob检测拉普拉斯高斯算子">2D Blob检测：拉普拉斯高斯算子</h2> <h3 id="归一化拉普拉斯高斯算子-nlog">归一化拉普拉斯高斯算子 (NLoG)</h3> <p>2D Blob可通过多尺度归一化拉普拉斯高斯算子检测：</p> \[\nabla^2 f = \frac{\partial^2 f}{\partial x^2} + \frac{\partial^2 f}{\partial y^2}\] \[\nabla^2 G(x,y;\sigma) = \left(\frac{x^2+y^2}{\sigma^4} - \frac{2}{\sigma^2}\right) G(x,y;\sigma)\] <p><strong>归一化拉普拉斯高斯算子：</strong> \(L(x,y;\sigma) = \sigma^2 \nabla^2 G(x,y;\sigma) * I(x,y)\)</p> <h3 id="尺度选择">尺度选择</h3> <p>给定二值圆和不同尺度的NLoG滤波器，响应随尺度变化。当滤波器尺度与Blob尺度匹配时，响应达到最大。</p> <p><strong>2D Blob检测步骤：</strong></p> <ol> <li>用不同尺度的NLoG滤波图像</li> <li>寻找 $L(x,y;\sigma)$ 的极值：$(\hat{x}, \hat{y}, \hat{\sigma}) = \arg \text{MinMax } L(x,y;\sigma)$</li> <li>$(\hat{x}, \hat{y})$ 是位置，$\hat{\sigma}$ 是特征尺寸</li> </ol> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/blob_detection_2d-480.webp 480w,/assets/img/notes_img/cv-ch04/blob_detection_2d-800.webp 800w,/assets/img/notes_img/cv-ch04/blob_detection_2d-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/blob_detection_2d.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="2D Blob检测示例" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="高斯差分算子-dog">高斯差分算子 (DoG)</h3> <p><strong>DoG作为NLoG的快速近似：</strong></p> \[G(x,y,k\sigma) - G(x,y,\sigma) \approx (k-1)\sigma^2 \nabla^2 G\] <p>其中 $k$ 是尺度因子（通常 $k = \sqrt{2}$）。</p> <h3 id="高斯金字塔的高效构建">高斯金字塔的高效构建</h3> <p>利用卷积的结合律：$[f_1(t) * f_2(t)] * f_3(t) = f_1(t) * [f_2(t) * f_3(t)]$</p> <p>对于高斯函数：$\sigma_Z = \sqrt{\sigma_X^2 + \sigma_Y^2}$</p> <p>这允许通过已有的高斯滤波结果计算更大尺度的滤波，提高计算效率。</p> <p><strong>金字塔结构：</strong></p> <ul> <li>第一个八度：${\sigma, \sqrt{2}\sigma, 2\sigma, 2\sqrt{2}\sigma, 4\sigma}$</li> <li>DoG: ${\sqrt{2}\sigma, 2\sigma, 2\sqrt{2}\sigma, 4\sigma}$</li> <li>第二个八度（下采样）：${2\sigma, 2\sqrt{2}\sigma, 4\sigma, 4\sqrt{2}\sigma, 8\sigma}$</li> <li>DoG: ${2\sqrt{2}\sigma, 4\sigma, 4\sqrt{2}\sigma, 8\sigma}$</li> </ul> <h3 id="3d极值检测">3D极值检测</h3> <p>在DoG图像中，通过比较像素与其在当前和相邻尺度的3×3×3邻域内的26个邻居来检测极值。</p> <h2 id="sift特征-scale-invariant-feature-transform">SIFT特征 (Scale-Invariant Feature Transform)</h2> <h3 id="sift概述">SIFT概述</h3> <p>SIFT特征是”尺度不变关键点的独特图像特征”，基于Blob检测构建具有以下特性的特征描述子：</p> <ul> <li> <strong>尺度不变性</strong>：通过多尺度检测</li> <li> <strong>旋转不变性</strong>：通过主方向对齐</li> <li> <strong>光照鲁棒性</strong>：通过归一化梯度直方图</li> <li> <strong>高判别性</strong>：128维特征向量</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/sift_overview-480.webp 480w,/assets/img/notes_img/cv-ch04/sift_overview-800.webp 800w,/assets/img/notes_img/cv-ch04/sift_overview-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/sift_overview.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="SIFT特征概述" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="blob作为尺度不变关键点">Blob作为尺度不变关键点</h3> <ul> <li>Blob通过多尺度NLoG极值检测</li> <li>缩放后的Blob仍能在适当的尺度层被检测到</li> <li>尺度归一化后实现尺度不变性</li> <li>对旋转、遮挡、杂乱和噪声具有鲁棒性</li> </ul> <h3 id="关键点筛选">关键点筛选</h3> <p><strong>初始关键点筛选过程：</strong></p> <ol> <li> <strong>原始图像</strong>：832个DoG极值点</li> <li> <strong>对比度阈值</strong>：应用最小对比度阈值后剩余729个</li> <li> <strong>边缘响应过滤</strong>：消除强边缘响应后剩余536个</li> </ol> <p><strong>边缘响应过滤原理：</strong> 使用Hessian矩阵的主曲率比： \(\mathbf{H} = \begin{bmatrix} D_{xx} &amp; D_{xy} \\ D_{xy} &amp; D_{yy} \end{bmatrix}\)</p> \[\frac{\text{Tr}(\mathbf{H})^2}{\text{Det}(\mathbf{H})} = \frac{(\alpha + \beta)^2}{\alpha\beta} = \frac{(r\beta + \beta)^2}{r\beta^2} = \frac{(r+1)^2}{r}\] <p>其中 $\alpha$ 和 $\beta$ 是Hessian矩阵的特征值，$r = \alpha/\beta$。</p> <h3 id="主方向计算">主方向计算</h3> <p><strong>计算关键点的主方向：</strong></p> <ol> <li>使用关键点尺度 $\sigma$ 选择平滑图像 $L(x,y;\sigma)$</li> <li>在关键点周围计算梯度幅值和方向： <ul> <li>$m(x,y) = \sqrt{L_x^2 + L_y^2}$</li> <li>$\theta(x,y) = \tan^{-1}(L_y/L_x)$</li> </ul> </li> <li>构建方向直方图（36个方向bin）</li> <li>直方图的峰值定义主方向</li> </ol> <h3 id="旋转不变性">旋转不变性</h3> <p>使用主方向消除旋转：所有后续计算都相对于主方向进行，实现旋转不变性。</p> <h3 id="sift描述符计算">SIFT描述符计算</h3> <p><strong>梯度直方图作为描述符：</strong></p> <ol> <li>在关键点周围的16×16窗口内计算梯度</li> <li>将窗口划分为4×4子区域</li> <li>每个子区域计算8方向的梯度直方图</li> <li>生成128维特征向量（4×4×8=128）</li> </ol> <p><strong>重要实现细节：</strong></p> <ul> <li>使用关键点尺度选择高斯模糊级别</li> <li>预计算所有金字塔层的梯度以提高效率</li> <li>使用高斯窗口避免突变</li> <li>归一化特征向量以减少光照影响</li> </ul> <h3 id="sift特征匹配">SIFT特征匹配</h3> <p><strong>描述符比较方法：</strong></p> <ol> <li> <strong>L2距离：</strong> $d(H_1, H_2) = \sqrt{\sum_k (H_1(k) - H_2(k))^2}$</li> <li> <strong>归一化相关性：</strong> $d(H_1, H_2) = \frac{\sum_k[(H_1(k) - \bar{H_1})(H_2(k) - \bar{H_2})]}{\sqrt{\sum_k(H_1(k) - \bar{H_1})^2} \sqrt{\sum_k(H_2(k) - \bar{H_2})^2}}$</li> <li> <strong>直方图交集：</strong> $d(H_1, H_2) = \sum_k \min(H_1(k), H_2(k))$</li> </ol> <h3 id="sift特性总结">SIFT特性总结</h3> <ul> <li> <strong>Blob检测</strong> → <strong>尺度不变</strong> </li> <li> <strong>主方向对齐</strong> → <strong>旋转不变</strong> </li> <li> <strong>归一化梯度直方图</strong> → <strong>独特性、光照鲁棒性</strong> </li> <li> <strong>图像金字塔</strong> → <strong>计算高效</strong> </li> <li><strong>用于图像匹配和识别</strong></li> </ul> <h2 id="hog特征-histogram-of-oriented-gradients">HoG特征 (Histogram of Oriented Gradients)</h2> <h3 id="hog特征概述">HoG特征概述</h3> <p>HoG特征用于描述局部对象外观和形状，通过梯度分布进行特征化，无需精确的梯度位置信息。</p> <p><strong>HoG计算步骤：</strong></p> <ol> <li> <strong>图像预处理</strong>：调整图像尺寸至128×64</li> <li> <strong>梯度计算</strong>：计算每个像素的梯度幅值和方向</li> <li> <strong>细胞划分</strong>：将图像分为8×8像素的细胞，计算9方向直方图</li> <li> <strong>块归一化</strong>：将2×2细胞组成块，步长为1进行滑动</li> <li> <strong>特征归一化</strong>：对直方图进行归一化，增强对光照和阴影的鲁棒性</li> </ol> <h3 id="hog-vs-sift">HoG vs SIFT</h3> <p><strong>计算方式差异：</strong></p> <ul> <li> <strong>HoG</strong>：密集网格、单一尺度、无主方向对齐</li> <li> <strong>SIFT</strong>：稀疏关键点、多尺度、主方向对齐</li> </ul> <p><strong>应用差异：</strong></p> <ul> <li> <strong>SIFT</strong>：优化用于稀疏宽基线匹配</li> <li> <strong>HoG</strong>：用于密集的空间形状鲁棒编码</li> </ul> <h3 id="hog在目标检测中的应用">HoG在目标检测中的应用</h3> <p><strong>检测流程：</strong></p> <ol> <li>提取HoG特征</li> <li>训练线性分类器（如SVM）</li> <li>用滑动窗口在不同尺度下运行分类器</li> </ol> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/hog_features-480.webp 480w,/assets/img/notes_img/cv-ch04/hog_features-800.webp 800w,/assets/img/notes_img/cv-ch04/hog_features-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/hog_features.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="HoG特征计算过程" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="应用与扩展">应用与扩展</h2> <h3 id="controlnet中的应用">ControlNet中的应用</h3> <p>Canny边缘检测在现代深度学习中仍有重要应用，如ControlNet中用于控制文本到图像的扩散模型生成。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/controlnet_canny-480.webp 480w,/assets/img/notes_img/cv-ch04/controlnet_canny-800.webp 800w,/assets/img/notes_img/cv-ch04/controlnet_canny-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/controlnet_canny.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="ControlNet中的Canny应用" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="仍未解决的问题">仍未解决的问题</h3> <p>尽管有这些先进的方法，边缘检测在复杂场景中仍是一个未完全解决的问题，特别是在区分语义边缘和纹理边缘方面。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch04/unsolved_problem-480.webp 480w,/assets/img/notes_img/cv-ch04/unsolved_problem-800.webp 800w,/assets/img/notes_img/cv-ch04/unsolved_problem-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch04/unsolved_problem.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="边缘检测的挑战" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="总结">总结</h2> <p>特征检测是计算机视觉的基础任务：</p> <ol> <li> <strong>边缘检测：</strong> 识别图像中的强度不连续，Canny算法是经典方法</li> <li> <strong>角点检测：</strong> 定位可靠的特征点，Harris检测器基于二阶矩矩阵</li> <li> <strong>Blob检测：</strong> 识别感兴趣区域，为SIFT等高级特征的前身</li> </ol> <p>这些方法为图像匹配、目标检测和3D重建等高级视觉任务提供了基础。</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesof_ML/">notes of ML</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesofvci/">notes of VCI</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesofaip/">notes of AIP</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesof_aimath/">notes of AI Math Fundamentals</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesof_ICS/">notes of ICS</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 stibiums liu. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: October 30, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?58fdb075e5aa03fbb8617845abde746c"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>