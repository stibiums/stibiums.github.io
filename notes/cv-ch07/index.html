<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> CV - 7: 对极几何 (Epipolar Geometry) | STIBIUMS_WEB </title> <meta name="author" content="stibiums liu"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/touxiang.jpg?68b4199d95528c9129ff55a104244865"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://stibiums.github.io/notes/cv-ch07/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> STIBIUMS_WEB </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/notes/">notes <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">CV - 7: 对极几何 (Epipolar Geometry)</h1> <p class="post-meta"> Created on October 10, 2025 </p> <p class="post-tags"> <i class="fa-solid fa-calendar fa-sm"></i> 2025   ·   <i class="fa-solid fa-hashtag fa-sm"></i> notes   <i class="fa-solid fa-hashtag fa-sm"></i> CV   <i class="fa-solid fa-hashtag fa-sm"></i> computer-vision   <i class="fa-solid fa-hashtag fa-sm"></i> epipolar-geometry   <i class="fa-solid fa-hashtag fa-sm"></i> stereo-vision   <i class="fa-solid fa-hashtag fa-sm"></i> fundamental-matrix   <i class="fa-solid fa-hashtag fa-sm"></i> essential-matrix   ·   <i class="fa-solid fa-tag fa-sm"></i> CV </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="71-双视图立体视觉概述">7.1 双视图立体视觉概述</h2> <h3 id="单视图的局限性">单视图的局限性</h3> <p>从单幅图像恢复3D信息存在固有的<strong>深度模糊性</strong>（depth ambiguity）问题：</p> <ul> <li>投影过程中深度信息丢失</li> <li>无法区分不同深度的点投影到相同像素位置</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/single_view_ambiguity-480.webp 480w,/assets/img/notes_img/cv-ch07/single_view_ambiguity-800.webp 800w,/assets/img/notes_img/cv-ch07/single_view_ambiguity-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/single_view_ambiguity.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="单视图深度模糊性" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="双视图立体视觉">双视图立体视觉</h3> <p><strong>立体视觉</strong>（Stereo Vision）通过使用<strong>两个标定相机</strong>在不同视角下的图像来解决深度模糊性：</p> <ul> <li>利用对应点关系恢复3D结构</li> <li>模拟人类双眼视觉原理</li> <li>应用：立体相机、3D重建、自动驾驶等</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/stereo_setup-480.webp 480w,/assets/img/notes_img/cv-ch07/stereo_setup-800.webp 800w,/assets/img/notes_img/cv-ch07/stereo_setup-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/stereo_setup.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="立体视觉配置" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="立体深度相机">立体深度相机</h3> <p><strong>Intel RealSense 深度相机</strong>是立体视觉的典型应用：</p> <ul> <li>双目红外相机 + RGB相机</li> <li>主动红外投影辅助</li> <li>实时深度估计</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/realsense_camera-480.webp 480w,/assets/img/notes_img/cv-ch07/realsense_camera-800.webp 800w,/assets/img/notes_img/cv-ch07/realsense_camera-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/realsense_camera.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Intel RealSense深度相机" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="72-典型3d重建流程">7.2 典型3D重建流程</h2> <h3 id="多视图3d重建管线">多视图3D重建管线</h3> <p>完整的3D重建流程包括：</p> <ol> <li> <strong>输入图像</strong>（Input Images）</li> <li> <strong>相机标定</strong>（Camera Calibration）</li> <li> <strong>特征匹配与对应关系</strong>（Correspondences）</li> <li> <strong>深度图估计</strong>（Depth Maps）</li> <li> <strong>深度图融合</strong>（Depth Map Fusion）</li> <li> <strong>3D重建结果</strong>（3D Reconstruction）</li> </ol> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/reconstruction_pipeline-480.webp 480w,/assets/img/notes_img/cv-ch07/reconstruction_pipeline-800.webp 800w,/assets/img/notes_img/cv-ch07/reconstruction_pipeline-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/reconstruction_pipeline.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="3D重建管线" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="双相机配置的优势">双相机配置的优势</h3> <p>使用两个相机可以提供：</p> <ol> <li> <strong>相机标定</strong>：无需标定板的自标定能力</li> <li> <strong>约束关系</strong>：对极约束简化特征匹配</li> <li> <strong>3D估计</strong>：通过三角化恢复深度</li> </ol> <h2 id="73-对极几何基础">7.3 对极几何基础</h2> <h3 id="基本配置">基本配置</h3> <p>考虑两个相机中心 \(O\) 和 \(O'\)：</p> <ul> <li> <strong>基线</strong>（Baseline）：连接两个相机中心的直线</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/baseline-480.webp 480w,/assets/img/notes_img/cv-ch07/baseline-800.webp 800w,/assets/img/notes_img/cv-ch07/baseline-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/baseline.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="双相机基线" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="极点epipoles">极点（Epipoles）</h3> <p><strong>极点</strong> \(e, e'\) 是基线与两个图像平面的交点：</p> <ul> <li>相当于<strong>另一个相机在本相机中的投影</strong> </li> <li>所有对极线都通过极点</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/epipoles-480.webp 480w,/assets/img/notes_img/cv-ch07/epipoles-800.webp 800w,/assets/img/notes_img/cv-ch07/epipoles-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/epipoles.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="对极点" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="对极平面epipolar-plane">对极平面（Epipolar Plane）</h3> <p>给定3D点 \(X\)，由 \(X, O, O'\) 三点确定的平面称为<strong>对极平面</strong>：</p> <ul> <li>通过基线的平面族</li> <li>每个空间点对应一个对极平面</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/epipolar_plane-480.webp 480w,/assets/img/notes_img/cv-ch07/epipolar_plane-800.webp 800w,/assets/img/notes_img/cv-ch07/epipolar_plane-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/epipolar_plane.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="对极平面" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="对极线epipolar-lines">对极线（Epipolar Lines）</h3> <p><strong>对极线</strong>是对极平面与图像平面的交线：</p> <ul> <li>连接极点和图像点</li> <li>成对出现（匹配的对极线）</li> <li>对应点必在其对极线上</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/epipolar_lines-480.webp 480w,/assets/img/notes_img/cv-ch07/epipolar_lines-800.webp 800w,/assets/img/notes_img/cv-ch07/epipolar_lines-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/epipolar_lines.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="对极线" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="对极几何总结">对极几何总结</h3> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/epipolar_geometry_summary-480.webp 480w,/assets/img/notes_img/cv-ch07/epipolar_geometry_summary-800.webp 800w,/assets/img/notes_img/cv-ch07/epipolar_geometry_summary-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/epipolar_geometry_summary.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="对极几何要素" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><strong>关键概念</strong>：</p> <ul> <li> <strong>基线</strong>：相机中心连线</li> <li> <strong>极点</strong>：基线与图像平面交点</li> <li> <strong>对极线</strong>：对极平面与图像平面交线</li> <li> <strong>对极平面</strong>：包含 \(X, O, O'\) 的平面</li> </ul> <h2 id="74-对极几何的特殊配置">7.4 对极几何的特殊配置</h2> <h3 id="配置1会聚相机">配置1：会聚相机</h3> <p><strong>特点</strong>：</p> <ul> <li>相机光轴相交</li> <li>极点在图像内（可见或不可见）</li> <li>对极线呈放射状</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/converging_cameras-480.webp 480w,/assets/img/notes_img/cv-ch07/converging_cameras-800.webp 800w,/assets/img/notes_img/cv-ch07/converging_cameras-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/converging_cameras.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="会聚相机配置" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="配置2平行相机">配置2：平行相机</h3> <p><strong>特点</strong>：</p> <ul> <li>光轴平行于图像平面</li> <li>极点在无穷远</li> <li>对极线平行（同一水平线）</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/parallel_cameras-480.webp 480w,/assets/img/notes_img/cv-ch07/parallel_cameras-800.webp 800w,/assets/img/notes_img/cv-ch07/parallel_cameras-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/parallel_cameras.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="平行相机配置" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><strong>优势</strong>：</p> <ul> <li>对应搜索简化为水平线搜索</li> <li>标准立体视觉配置</li> <li>易于实现实时处理</li> </ul> <h3 id="配置3运动垂直于图像平面">配置3：运动垂直于图像平面</h3> <p><strong>特点</strong>：</p> <ul> <li>相机沿光轴方向移动</li> <li>极点与主点重合</li> <li>对极线呈放射状从中心发出</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/forward_motion-480.webp 480w,/assets/img/notes_img/cv-ch07/forward_motion-800.webp 800w,/assets/img/notes_img/cv-ch07/forward_motion-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/forward_motion.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="前向运动配置" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><strong>应用</strong>：车载相机前向运动</p> <h2 id="75-对极约束epipolar-constraint">7.5 对极约束（Epipolar Constraint）</h2> <h3 id="对极约束的几何意义">对极约束的几何意义</h3> <p>给定图像1中的点 \(x\)，其在图像2中的对应点 \(x'\) 必在对极线上：</p> \[\text{对极线 } l' = Fx\] <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/epipolar_constraint_geometry-480.webp 480w,/assets/img/notes_img/cv-ch07/epipolar_constraint_geometry-800.webp 800w,/assets/img/notes_img/cv-ch07/epipolar_constraint_geometry-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/epipolar_constraint_geometry.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="对极约束几何意义" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="对极约束的重要性">对极约束的重要性</h3> <p><strong>对应搜索</strong>：</p> <ul> <li>无约束：在整个图像中搜索（2D）</li> <li>有对极约束：仅在对极线上搜索（1D）</li> <li>搜索空间大幅减少</li> </ul> <p><strong>注意</strong>：满足对极约束不保证是真正的对应点</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/epipolar_constraint_search-480.webp 480w,/assets/img/notes_img/cv-ch07/epipolar_constraint_search-800.webp 800w,/assets/img/notes_img/cv-ch07/epipolar_constraint_search-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/epipolar_constraint_search.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="对极约束简化搜索" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="76-本质矩阵essential-matrix">7.6 本质矩阵（Essential Matrix）</h2> <h3 id="标定相机的对极约束">标定相机的对极约束</h3> <p>假设相机内参已知，世界坐标系设在第一个相机：</p> <ul> <li>投影矩阵：\(K[I \mid 0]\) 和 \(K'[R \mid t]\)</li> <li>归一化图像坐标：\(\tilde{x} = K^{-1}x_{\text{pixel}}\), \(\tilde{x}' = K'^{-1}x'_{\text{pixel}}\)</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/calibrated_stereo-480.webp 480w,/assets/img/notes_img/cv-ch07/calibrated_stereo-800.webp 800w,/assets/img/notes_img/cv-ch07/calibrated_stereo-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/calibrated_stereo.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="标定相机配置" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="本质矩阵的推导">本质矩阵的推导</h3> <p>从 \(\tilde{x}' \cong R\tilde{x} + t\) 可知 \(\tilde{x}', R\tilde{x}, t\) <strong>共面</strong>。</p> <p>利用<strong>三重积</strong>（triple product）：</p> \[\tilde{x}' \cdot (t \times R\tilde{x}) = 0\] <p>引入叉积矩阵 \([t]_\times\)：</p> \[\tilde{x}'^T [t]_\times R \tilde{x} = 0\] <p>定义<strong>本质矩阵</strong>：</p> \[E = [t]_\times R\] <p>对极约束形式：</p> \[\tilde{x}'^T E \tilde{x} = 0\] <h3 id="本质矩阵的性质">本质矩阵的性质</h3> <p><strong>自由度</strong>：5</p> <ul> <li>平移：3自由度</li> <li>旋转：3自由度</li> <li>尺度不变性：-1自由度</li> </ul> <p><strong>秩</strong>：2</p> <ul> <li>\([t]_\times\) 秩为2</li> <li>\(R\) 秩为3</li> <li>\(E\) 秩为2</li> </ul> <p><strong>SVD分解</strong>：\(E = U\Sigma V^T\)，其中 \(\Sigma = \text{diag}(\sigma, \sigma, 0)\)</p> <h3 id="对极线计算">对极线计算</h3> <p>给定归一化坐标 \(\tilde{x}\) 和 \(\tilde{x}'\)：</p> <ul> <li>对极线 \(l' = E\tilde{x}\)（在图像2中）</li> <li>对极线 \(l = E^T\tilde{x}'\)（在图像1中）</li> </ul> <p>极点满足：</p> <ul> <li>\(Ee = 0\)（图像1的极点）</li> <li>\(E^Te' = 0\)（图像2的极点）</li> </ul> <h2 id="77-基础矩阵fundamental-matrix">7.7 基础矩阵（Fundamental Matrix）</h2> <h3 id="未标定相机的对极约束">未标定相机的对极约束</h3> <p>当相机内参 \(K, K'\) <strong>未知</strong>时，对极约束变为：</p> \[x'^T F x = 0\] <p>其中<strong>基础矩阵</strong>：</p> \[F = K'^{-T} E K^{-1}\] <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/fundamental_matrix-480.webp 480w,/assets/img/notes_img/cv-ch07/fundamental_matrix-800.webp 800w,/assets/img/notes_img/cv-ch07/fundamental_matrix-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/fundamental_matrix.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="基础矩阵关系" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="基础矩阵的性质">基础矩阵的性质</h3> <p><strong>自由度</strong>：7</p> <ul> <li>9个元素</li> <li>det(F) = 0 约束：-1自由度</li> <li>尺度不变性：-1自由度</li> </ul> <p><strong>秩</strong>：2（与本质矩阵相同）</p> <p><strong>对极线</strong>：</p> <ul> <li>\(l' = Fx\)（像素坐标）</li> <li>\(l = F^Tx'\)（像素坐标）</li> </ul> <p><strong>极点</strong>：</p> <ul> <li> \[Fe = 0\] </li> <li> \[F^Te' = 0\] </li> </ul> <h2 id="78-基础矩阵的估计">7.8 基础矩阵的估计</h2> <h3 id="八点算法eight-point-algorithm">八点算法（Eight-Point Algorithm）</h3> <p>给定对应点 \((x_i, y_i) \leftrightarrow (x_i', y_i')\)，对极约束为：</p> \[x'^T F x = (x', y', 1) \begin{bmatrix} f_{11} &amp; f_{12} &amp; f_{13} \\ f_{21} &amp; f_{22} &amp; f_{23} \\ f_{31} &amp; f_{32} &amp; f_{33} \end{bmatrix} \begin{pmatrix} x \\ y \\ 1 \end{pmatrix} = 0\] <p>展开为线性方程：</p> \[(x'x, x'y, x', y'x, y'y, y', x, y, 1) \begin{pmatrix} f_{11} \\ f_{12} \\ \vdots \\ f_{33} \end{pmatrix} = 0\] <h3 id="线性系统">线性系统</h3> <p>\(n\) 个对应点构成线性系统：</p> \[\begin{bmatrix} x_1'x_1 &amp; x_1'y_1 &amp; x_1' &amp; y_1'x_1 &amp; y_1'y_1 &amp; y_1' &amp; x_1 &amp; y_1 &amp; 1 \\ \vdots &amp; &amp; &amp; &amp; &amp; &amp; &amp; &amp; \vdots \\ x_n'x_n &amp; x_n'y_n &amp; x_n' &amp; y_n'x_n &amp; y_n'y_n &amp; y_n' &amp; x_n &amp; y_n &amp; 1 \end{bmatrix} \begin{pmatrix} f_{11} \\ \vdots \\ f_{33} \end{pmatrix} = 0\] <p>即 \(Uf = 0\)</p> <p><strong>最小点数</strong>：8个（因此称为八点算法）</p> <p><strong>解法</strong>：\(f\) 是 \(U^TU\) 最小特征值对应的特征向量</p> <h3 id="秩-2约束强制">秩-2约束强制</h3> <p>估计的 \(F\) 可能不满足 det(F) = 0，需要强制秩为2：</p> <ol> <li>对 \(F\) 进行SVD：\(F = U\Sigma V^T\)，其中 \(\Sigma = \text{diag}(\sigma_1, \sigma_2, \sigma_3)\)</li> <li>置最小奇异值为0：\(\Sigma' = \text{diag}(\sigma_1, \sigma_2, 0)\)</li> <li>重构：\(F_{\text{final}} = U\Sigma' V^T\)</li> </ol> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/rank2_constraint-480.webp 480w,/assets/img/notes_img/cv-ch07/rank2_constraint-800.webp 800w,/assets/img/notes_img/cv-ch07/rank2_constraint-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/rank2_constraint.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="秩-2约束" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="79-归一化八点算法">7.9 归一化八点算法</h2> <h3 id="数值不稳定性问题">数值不稳定性问题</h3> <p>像素坐标 \((x, y)\) 通常在 \([0, 1000]\) 范围：</p> <ul> <li>\(U\) 矩阵各列数量级差异大：\(10^6, 10^6, 10^3, 10^6, 10^6, 10^3, 10^3, 10^3, 1\)</li> <li>导致数值不稳定</li> </ul> <h3 id="归一化方案">归一化方案</h3> <p><strong>Hartley算法</strong>（TPAMI 1997）：</p> <ol> <li> <p><strong>归一化点坐标</strong>：</p> <ul> <li>将点集中心移至原点</li> <li>缩放使平均距离为 \(\sqrt{2}\) 像素</li> </ul> </li> <li> <p><strong>估计基础矩阵</strong> \(\tilde{F}\)</p> </li> <li> <p><strong>强制秩-2约束</strong></p> </li> <li> <p><strong>反归一化</strong>： 若归一化变换为 \(T\) 和 \(T'\)，则： \(F = T'^T \tilde{F} T\)</p> </li> </ol> <p><strong>效果</strong>：显著提高数值稳定性和估计精度</p> <h2 id="710-非线性优化">7.10 非线性优化</h2> <h3 id="几何误差-vs-代数误差">几何误差 vs 代数误差</h3> <p><strong>代数误差</strong>（八点算法最小化）：</p> \[\sum_i (x_i'^T F x_i)^2\] <p><strong>几何误差</strong>（更优）：</p> \[\sum_i \left[ d(x_i', Fx_i)^2 + d(x_i, F^Tx_i')^2 \right]\] <p>其中 \(d(\cdot, \cdot)\) 是点到线的距离。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/geometric_error-480.webp 480w,/assets/img/notes_img/cv-ch07/geometric_error-800.webp 800w,/assets/img/notes_img/cv-ch07/geometric_error-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/geometric_error.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="几何误差示意" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="优化方法">优化方法</h3> <p>使用<strong>非线性最小二乘</strong>（如Levenberg-Marquardt）最小化几何误差：</p> <ul> <li>初值：归一化八点算法结果</li> <li>约束：det(F) = 0</li> <li>参数化：7个自由度</li> </ul> <h2 id="711-从本质矩阵恢复相机运动">7.11 从本质矩阵恢复相机运动</h2> <h3 id="svd分解方法">SVD分解方法</h3> <p>给定 \(E = [t]_\times R = U\Sigma V^T\)：</p> <p><strong>提取平移</strong>： \(t = U(:, 3)\)（最后一列，up to scale）</p> <p><strong>提取旋转</strong>： \(R_1 = UR_{90°}^T V^T\) 或 \(R_2 = UR_{-90°}^T V^T\)</p> <p>其中 \(R_{90°} = \begin{bmatrix} 0 &amp; -1 &amp; 0 \\ 1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 \end{bmatrix}\)</p> <h3 id="四解歧义">四解歧义</h3> <p>存在4种组合：\((R_1, t), (R_1, -t), (R_2, t), (R_2, -t)\)</p> <p><strong>消歧方法</strong>：深度正定性检查</p> <ul> <li>三角化测试点</li> <li>选择使点在<strong>两个相机前方</strong>（正深度）的解</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/four_solutions-480.webp 480w,/assets/img/notes_img/cv-ch07/four_solutions-800.webp 800w,/assets/img/notes_img/cv-ch07/four_solutions-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/four_solutions.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="四种可能配置" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="712-对极几何的应用">7.12 对极几何的应用</h2> <h3 id="相机自标定">相机自标定</h3> <ul> <li> <strong>弱标定</strong>：估计基础矩阵 \(F\)</li> <li> <strong>强标定</strong>：从 \(F\) 和内参估计 \(E\)，进而得到相机外参</li> </ul> <h3 id="立体匹配加速">立体匹配加速</h3> <ul> <li>对应搜索限制在对极线上</li> <li>从2D搜索降为1D搜索</li> </ul> <h3 id="立体校正">立体校正</h3> <p>通过图像变换使对极线水平对齐：</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/cv-ch07/stereo_rectification-480.webp 480w,/assets/img/notes_img/cv-ch07/stereo_rectification-800.webp 800w,/assets/img/notes_img/cv-ch07/stereo_rectification-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/cv-ch07/stereo_rectification.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="立体校正" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="运动估计">运动估计</h3> <ul> <li> <strong>视觉里程计</strong>（Visual Odometry）</li> <li> <strong>SLAM</strong>（Simultaneous Localization and Mapping）</li> <li>五点算法（标定相机情况）</li> </ul> <h2 id="713-总结">7.13 总结</h2> <h3 id="对极几何核心概念">对极几何核心概念</h3> <p><strong>几何关系</strong>：</p> <ul> <li>基线、极点、对极平面、对极线</li> <li>对极约束：\(x'^T F x = 0\)</li> </ul> <p><strong>数学表示</strong>：</p> <ul> <li>本质矩阵 \(E\)：标定相机（5自由度，秩2）</li> <li>基础矩阵 \(F\)：未标定相机（7自由度，秩2）</li> </ul> <h3 id="估计方法">估计方法</h3> <p><strong>线性算法</strong>：</p> <ul> <li>八点算法（最少8点）</li> <li>归一化八点算法（提高稳定性）</li> </ul> <p><strong>非线性优化</strong>：</p> <ul> <li>最小化几何误差</li> <li>提高精度</li> </ul> <h3 id="实际应用">实际应用</h3> <ul> <li>3D重建管线</li> <li>立体视觉系统</li> <li>相机运动估计</li> <li>视觉SLAM</li> </ul> <p><strong>参考文献</strong>：</p> <ul> <li>Hartley &amp; Zisserman. <em>Multiple View Geometry in Computer Vision</em>, Section 9 &amp; 11</li> <li>R. Hartley. “In defense of the eight-point algorithm”. TPAMI 1997</li> </ul> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesof_ML/">notes of ML</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesofvci/">notes of VCI</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesofaip/">notes of AIP</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesof_aimath/">notes of AI Math Fundamentals</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesof_ICS/">notes of ICS</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 stibiums liu. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: October 30, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?58fdb075e5aa03fbb8617845abde746c"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>