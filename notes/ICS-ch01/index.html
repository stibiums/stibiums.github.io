<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> ICS - 第二讲：位、字节和整数 (Bits, Bytes, and Integers) | STIBIUMS_WEB </title> <meta name="author" content="stibiums liu"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/touxiang.jpg?68b4199d95528c9129ff55a104244865"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://stibiums.github.io/notes/ICS-ch01/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> STIBIUMS_WEB </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/notes/">notes <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">ICS - 第二讲：位、字节和整数 (Bits, Bytes, and Integers)</h1> <p class="post-meta"> Created on September 10, 2025 </p> <p class="post-tags"> <i class="fa-solid fa-calendar fa-sm"></i> 2025   ·   <i class="fa-solid fa-hashtag fa-sm"></i> notes   <i class="fa-solid fa-hashtag fa-sm"></i> ICS   ·   <i class="fa-solid fa-tag fa-sm"></i> ICS </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="第二讲位字节和整数-bits-bytes-and-integers">第二讲：位、字节和整数 (Bits, Bytes, and Integers)</h2> <h3 id="1-二进制表示-binary-representations">1. 二进制表示 (Binary Representations)</h3> <h4 id="11-为什么使用二进制">1.1 为什么使用二进制？</h4> <ul> <li> <strong>最实用的系统</strong>：计算机硬件容易实现两种稳定状态</li> <li>电压表示：低电压(0V-0.5V)表示0，高电压(2.8V-3.3V)表示1</li> </ul> <h4 id="12-数制转换">1.2 数制转换</h4> <ul> <li> <strong>十进制转二进制</strong>：15213₁₀ = 11101101101101₂</li> <li> <strong>十进制转十六进制</strong>：15213₁₀ = 3B6D₁₆</li> <li> <strong>科学计数法</strong>：1.5213 × 10⁴ = 1.11011011011012 × 2¹³</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/ICS/number_conversion-480.webp 480w,/assets/img/notes_img/ICS/number_conversion-800.webp 800w,/assets/img/notes_img/ICS/number_conversion-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/ICS/number_conversion.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="2-字节编码-encoding-byte-values">2. 字节编码 (Encoding Byte Values)</h3> <h4 id="21-字节--8位">2.1 字节 = 8位</h4> <ul> <li> <strong>二进制范围</strong>：00000000₂ 到 11111111₂</li> <li> <strong>十进制范围</strong>：0₁₀ 到 255₁₀</li> <li> <strong>十六进制范围</strong>：00₁₆ 到 FF₁₆</li> </ul> <h4 id="22-十六进制编码表">2.2 十六进制编码表</h4> <table> <thead> <tr> <th>十六进制</th> <th>十进制</th> <th>二进制</th> </tr> </thead> <tbody> <tr> <td>0</td> <td>0</td> <td>0000</td> </tr> <tr> <td>1</td> <td>1</td> <td>0001</td> </tr> <tr> <td>2</td> <td>2</td> <td>0010</td> </tr> <tr> <td>3</td> <td>3</td> <td>0011</td> </tr> <tr> <td>4</td> <td>4</td> <td>0100</td> </tr> <tr> <td>5</td> <td>5</td> <td>0101</td> </tr> <tr> <td>6</td> <td>6</td> <td>0110</td> </tr> <tr> <td>7</td> <td>7</td> <td>0111</td> </tr> <tr> <td>8</td> <td>8</td> <td>1000</td> </tr> <tr> <td>9</td> <td>9</td> <td>1001</td> </tr> <tr> <td>A</td> <td>10</td> <td>1010</td> </tr> <tr> <td>B</td> <td>11</td> <td>1011</td> </tr> <tr> <td>C</td> <td>12</td> <td>1100</td> </tr> <tr> <td>D</td> <td>13</td> <td>1101</td> </tr> <tr> <td>E</td> <td>14</td> <td>1110</td> </tr> <tr> <td>F</td> <td>15</td> <td>1111</td> </tr> </tbody> </table> <h4 id="23-c语言中的十六进制表示">2.3 C语言中的十六进制表示</h4> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 十六进制表示：0xFA1D37B 或 0xfa1d37b</span>
</code></pre></div></div> <h3 id="3-数据类型大小-data-representations">3. 数据类型大小 (Data Representations)</h3> <table> <thead> <tr> <th>C数据类型</th> <th>32位系统</th> <th>Intel IA32</th> <th>x86-64</th> </tr> </thead> <tbody> <tr> <td>char</td> <td>1</td> <td>1</td> <td>1</td> </tr> <tr> <td>short</td> <td>2</td> <td>2</td> <td>2</td> </tr> <tr> <td>int</td> <td>4</td> <td>4</td> <td>4</td> </tr> <tr> <td>long</td> <td>4</td> <td>4</td> <td>8</td> </tr> <tr> <td>float</td> <td>4</td> <td>4</td> <td>4</td> </tr> <tr> <td>double</td> <td>8</td> <td>8</td> <td>8</td> </tr> <tr> <td>long double</td> <td>-</td> <td>-</td> <td>10/16</td> </tr> <tr> <td>pointer</td> <td>4</td> <td>4</td> <td>8</td> </tr> </tbody> </table> <h3 id="4-布尔代数-boolean-algebra">4. 布尔代数 (Boolean Algebra)</h3> <h4 id="41-基本运算">4.1 基本运算</h4> <ul> <li> <strong>与(AND)</strong>: A&amp;B = 1 当且仅当 A=1 且 B=1</li> <li> <table> <tbody> <tr> <td> <strong>或(OR)</strong>: A</td> <td>B = 1 当 A=1 或 B=1</td> </tr> </tbody> </table> </li> <li> <strong>非(NOT)</strong>: ~A = 1 当 A=0</li> <li> <strong>异或(XOR)</strong>: A^B = 1 当 A=1 或 B=1，但不能同时为1</li> </ul> <h4 id="42-位向量运算示例">4.2 位向量运算示例</h4> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>01101001
&amp; 01010101
----------
01000001

01101001
| 01010101
----------
01111101

01101001
^ 01010101
----------
00111100

~ 01010101
----------
10101010
</code></pre></div></div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/ICS/bit_operations-480.webp 480w,/assets/img/notes_img/ICS/bit_operations-800.webp 800w,/assets/img/notes_img/ICS/bit_operations-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/ICS/bit_operations.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h4 id="43-集合表示">4.3 集合表示</h4> <ul> <li>用位向量表示集合 {0, 1, 2, …, w-1}</li> <li>01101001₂ 表示集合 {0, 3, 5, 6}</li> <li>01010101₂ 表示集合 {0, 2, 4, 6}</li> </ul> <p><strong>集合运算</strong>：</p> <ul> <li> <strong>交集</strong>: &amp; → 01000001₂ = {0, 6}</li> <li> <table> <tbody> <tr> <td> <strong>并集</strong>:</td> <td>→ 01111101₂ = {0, 2, 3, 4, 5, 6}</td> </tr> </tbody> </table> </li> <li> <strong>对称差</strong>: ^ → 00111100₂ = {2, 3, 4, 5}</li> <li> <strong>补集</strong>: ~ → 10101010₂ = {1, 3, 5, 7}</li> </ul> <h3 id="5-c语言中的位运算">5. C语言中的位运算</h3> <h4 id="51-位级运算符">5.1 位级运算符</h4> <ul> <li>适用于所有整型数据类型：<code class="language-plaintext highlighter-rouge">long</code>, <code class="language-plaintext highlighter-rouge">int</code>, <code class="language-plaintext highlighter-rouge">short</code>, <code class="language-plaintext highlighter-rouge">char</code>, <code class="language-plaintext highlighter-rouge">unsigned</code> </li> <li>按位操作，将操作数视为位向量</li> </ul> <h4 id="52-运算示例">5.2 运算示例</h4> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">~</span><span class="mh">0x41</span> <span class="err">→</span> <span class="mh">0xBE</span>        <span class="c1">// ~01000001₂ → 10111110₂</span>
<span class="o">~</span><span class="mh">0x00</span> <span class="err">→</span> <span class="mh">0xFF</span>        <span class="c1">// ~00000000₂ → 11111111₂</span>
<span class="mh">0x69</span> <span class="o">&amp;</span> <span class="mh">0x55</span> <span class="err">→</span> <span class="mh">0x41</span>  <span class="c1">// 01101001₂ &amp; 01010101₂ → 01000001₂</span>
<span class="mh">0x69</span> <span class="o">|</span> <span class="mh">0x55</span> <span class="err">→</span> <span class="mh">0x7D</span>  <span class="c1">// 01101001₂ | 01010101₂ → 01111101₂</span>
</code></pre></div></div> <h4 id="53-逻辑运算符对比">5.3 逻辑运算符对比</h4> <p><strong>位运算符</strong> vs <strong>逻辑运算符</strong>：</p> <ul> <li> <code class="language-plaintext highlighter-rouge">&amp;</code>, <code class="language-plaintext highlighter-rouge">|</code>, <code class="language-plaintext highlighter-rouge">~</code> vs <code class="language-plaintext highlighter-rouge">&amp;&amp;</code>, <code class="language-plaintext highlighter-rouge">||</code>, <code class="language-plaintext highlighter-rouge">!</code> </li> <li>逻辑运算符：0为False，非0为True，结果只有0或1</li> <li>支持短路求值</li> </ul> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">!</span><span class="mh">0x41</span> <span class="err">→</span> <span class="mh">0x00</span>        <span class="c1">// 逻辑非</span>
<span class="o">!</span><span class="mh">0x00</span> <span class="err">→</span> <span class="mh">0x01</span>        <span class="c1">// 逻辑非</span>
<span class="o">!!</span><span class="mh">0x41</span> <span class="err">→</span> <span class="mh">0x01</span>       <span class="c1">// 双重逻辑非</span>
<span class="mh">0x69</span> <span class="o">&amp;&amp;</span> <span class="mh">0x55</span> <span class="err">→</span> <span class="mh">0x01</span> <span class="c1">// 逻辑与</span>
<span class="n">p</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">p</span>             <span class="c1">// 避免空指针访问</span>
</code></pre></div></div> <p>⚠️ <strong>注意</strong>：区分 <code class="language-plaintext highlighter-rouge">&amp;&amp;</code> 与 <code class="language-plaintext highlighter-rouge">&amp;</code>，<code class="language-plaintext highlighter-rouge">||</code> 与 <code class="language-plaintext highlighter-rouge">|</code> - 这是C编程中的常见错误！</p> <h3 id="6-移位运算-shift-operations">6. 移位运算 (Shift Operations)</h3> <h4 id="61-左移x-y">6.1 左移：x « y</h4> <ul> <li>将位向量x向左移动y位</li> <li>左边多余的位丢弃，右边补0</li> </ul> <h4 id="62-右移x-y">6.2 右移：x » y</h4> <ul> <li>将位向量x向右移动y位</li> <li>右边多余的位丢弃</li> <li> <strong>逻辑右移</strong>：左边补0</li> <li> <strong>算术右移</strong>：左边复制最高有效位(符号位)</li> </ul> <h4 id="63-移位示例">6.3 移位示例</h4> <table> <thead> <tr> <th>操作</th> <th>x=01100010</th> <th>x=10100010</th> </tr> </thead> <tbody> <tr> <td>« 3</td> <td>00010000</td> <td>00010000</td> </tr> <tr> <td>逻辑 » 2</td> <td>00011000</td> <td>00101000</td> </tr> <tr> <td>算术 » 2</td> <td>00011000</td> <td>11101000</td> </tr> </tbody> </table> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/ICS/shift_operations-480.webp 480w,/assets/img/notes_img/ICS/shift_operations-800.webp 800w,/assets/img/notes_img/ICS/shift_operations-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/ICS/shift_operations.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>⚠️ <strong>未定义行为</strong>：移位量 &lt; 0 或 ≥ 字长</p> <h3 id="7-整数表示-integer-representations">7. 整数表示 (Integer Representations)</h3> <h4 id="71-无符号整数-unsigned">7.1 无符号整数 (Unsigned)</h4> \[B2U(X) = \sum_{i=0}^{w-1} x_i \cdot 2^i\] <h4 id="72-补码整数-twos-complement">7.2 补码整数 (Two’s Complement)</h4> \[B2T(X) = -x_{w-1} \cdot 2^{w-1} + \sum_{i=0}^{w-2} x_i \cdot 2^i\] <h4 id="73-示例short-int-16位">7.3 示例：short int (16位)</h4> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">short</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">15213</span><span class="p">;</span>   <span class="c1">// 0011 1011 0110 1101</span>
<span class="kt">short</span> <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">15213</span><span class="p">;</span>  <span class="c1">// 1100 0100 1001 0011</span>
</code></pre></div></div> <table> <thead> <tr> <th>变量</th> <th>十进制</th> <th>十六进制</th> <th>二进制表示</th> </tr> </thead> <tbody> <tr> <td>x</td> <td>15213</td> <td>3B 6D</td> <td>00111011 01101101</td> </tr> <tr> <td>y</td> <td>-15213</td> <td>C4 93</td> <td>11000100 10010011</td> </tr> </tbody> </table> <h4 id="74-数值范围">7.4 数值范围</h4> <p>对于w位数：</p> <ul> <li> <strong>无符号</strong>: UMin = 0, UMax = 2ʷ - 1</li> <li> <strong>补码</strong>: TMin = -2ʷ⁻¹, TMax = 2ʷ⁻¹ - 1</li> </ul> <p><strong>16位示例</strong>：</p> <ul> <li>UMax = 65535, TMax = 32767, TMin = -32768</li> <li>特殊值：-1 = 0xFFFF (全1)</li> </ul> <p><strong>观察</strong>：</p> <ul> <li> <table> <tbody> <tr> <td>TMin</td> <td>= TMax + 1 (不对称范围)</td> </tr> </tbody> </table> </li> <li>UMax = 2 × TMax + 1</li> </ul> <h3 id="8-类型转换-conversion-and-casting">8. 类型转换 (Conversion and Casting)</h3> <h4 id="81-有符号无符号转换">8.1 有符号↔无符号转换</h4> <ul> <li> <strong>保持位模式不变</strong>，重新解释含义</li> <li>负数转换为大的正数</li> </ul> <h4 id="82-转换可视化">8.2 转换可视化</h4> <p>对于4位数系统：</p> <table> <thead> <tr> <th>位模式</th> <th>有符号</th> <th>无符号</th> </tr> </thead> <tbody> <tr> <td>0000</td> <td>0</td> <td>0</td> </tr> <tr> <td>0001</td> <td>1</td> <td>1</td> </tr> <tr> <td>0111</td> <td>7</td> <td>7</td> </tr> <tr> <td>1000</td> <td>-8</td> <td>8</td> </tr> <tr> <td>1111</td> <td>-1</td> <td>15</td> </tr> </tbody> </table> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/ICS/signed_unsigned_conversion-480.webp 480w,/assets/img/notes_img/ICS/signed_unsigned_conversion-800.webp 800w,/assets/img/notes_img/ICS/signed_unsigned_conversion-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/ICS/signed_unsigned_conversion.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h4 id="83-c语言中的转换">8.3 C语言中的转换</h4> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 常量</span>
<span class="mi">0U</span><span class="p">,</span> <span class="mi">4294967259U</span>  <span class="c1">// 无符号后缀</span>

<span class="c1">// 显式转换</span>
<span class="kt">int</span> <span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="n">ux</span><span class="p">,</span> <span class="n">uy</span><span class="p">;</span>
<span class="n">tx</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="n">ux</span><span class="p">;</span>
<span class="n">uy</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span><span class="p">)</span> <span class="n">ty</span><span class="p">;</span>

<span class="c1">// 隐式转换</span>
<span class="n">tx</span> <span class="o">=</span> <span class="n">ux</span><span class="p">;</span>
<span class="n">uy</span> <span class="o">=</span> <span class="n">ty</span><span class="p">;</span>
</code></pre></div></div> <h4 id="84-转换陷阱">8.4 转换陷阱</h4> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 混合表达式中，有符号数会被隐式转换为无符号数</span>
<span class="o">-</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">0U</span>  <span class="c1">// False! -1被转换为4294967295U</span>
</code></pre></div></div> <h3 id="9-扩展和截断-expanding--truncating">9. 扩展和截断 (Expanding &amp; Truncating)</h3> <h4 id="91-符号扩展-sign-extension">9.1 符号扩展 (Sign Extension)</h4> <p>将w位有符号整数转换为w+k位：</p> <ul> <li> <strong>规则</strong>：复制k个符号位</li> <li> <strong>示例</strong>：01010 → 00001010 (正数前面补0)</li> <li> <strong>示例</strong>：10110 → 11110110 (负数前面补1)</li> </ul> <h4 id="92-截断-truncation">9.2 截断 (Truncation)</h4> <ul> <li>无符号/有符号：直接截断高位</li> <li>结果重新解释</li> <li> <strong>无符号</strong>：相当于 mod 2ᵏ 运算</li> <li> <strong>有符号</strong>：类似于 mod 运算</li> </ul> <h4 id="93-c语言自动处理">9.3 C语言自动处理</h4> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">short</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">15213</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">ix</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="n">x</span><span class="p">;</span>     <span class="c1">// 自动符号扩展</span>
</code></pre></div></div> <h3 id="10-整数运算-integer-arithmetic">10. 整数运算 (Integer Arithmetic)</h3> <h4 id="101-无符号加法">10.1 无符号加法</h4> <ul> <li> <strong>模运算</strong>：UAddw(u,v) = (u + v) mod 2ʷ</li> <li>溢出时结果”回绕”</li> </ul> <h4 id="102-补码加法">10.2 补码加法</h4> <ul> <li> <strong>位级行为</strong>与无符号加法相同</li> <li>可能发生正溢出或负溢出</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/ICS/integer_overflow-480.webp 480w,/assets/img/notes_img/ICS/integer_overflow-800.webp 800w,/assets/img/notes_img/ICS/integer_overflow-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/ICS/integer_overflow.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h4 id="103-乘法">10.3 乘法</h4> <ul> <li> <strong>无符号</strong>：UMultw(u,v) = (u × v) mod 2ʷ</li> <li> <strong>有符号</strong>：位级下w位与无符号相同</li> </ul> <h4 id="104-2的幂次运算优化">10.4 2的幂次运算优化</h4> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 乘法优化</span>
<span class="n">u</span> <span class="o">&lt;&lt;</span> <span class="n">k</span>  <span class="c1">// 等价于 u * 2^k</span>

<span class="c1">// 除法优化</span>
<span class="n">u</span> <span class="o">&gt;&gt;</span> <span class="n">k</span>  <span class="c1">// 等价于 u / 2^k (无符号)</span>
</code></pre></div></div> <p>⭐ <strong>重要教训</strong>：相信编译器的优化！</p> <h3 id="11-内存表示-memory-representations">11. 内存表示 (Memory Representations)</h3> <h4 id="111-字节序-byte-ordering">11.1 字节序 (Byte Ordering)</h4> <p><strong>大端序 (Big Endian)</strong>：</p> <ul> <li>最低有效字节在最高地址</li> <li>用于：Sun, PPC Mac, Internet</li> </ul> <p><strong>小端序 (Little Endian)</strong>：</p> <ul> <li>最低有效字节在最低地址</li> <li>用于：x86, ARM (Android, iOS, Windows)</li> </ul> <h4 id="112-示例0x01234567">11.2 示例：0x01234567</h4> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>地址:     0x100  0x101  0x102  0x103
大端序:    01     23     45     67
小端序:    67     45     23     01
</code></pre></div></div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/notes_img/ICS/byte_ordering-480.webp 480w,/assets/img/notes_img/ICS/byte_ordering-800.webp 800w,/assets/img/notes_img/ICS/byte_ordering-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/notes_img/ICS/byte_ordering.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h4 id="113-字符串表示">11.3 字符串表示</h4> <ul> <li>使用ASCII编码</li> <li>字符’0’ = 0x30, 字符’1’ = 0x31</li> <li>以null字符(0x00)结尾</li> <li><strong>字节序无关</strong></li> </ul> <h3 id="12-编程建议">12. 编程建议</h3> <h4 id="121-无符号数使用场景">12.1 无符号数使用场景</h4> <p><strong>应该使用</strong>：</p> <ul> <li>模运算</li> <li>位集合表示</li> </ul> <p><strong>谨慎使用</strong>：</p> <ul> <li>容易出错的循环</li> </ul> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 错误示例</span>
<span class="kt">unsigned</span> <span class="n">i</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">cnt</span><span class="o">-</span><span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span>  <span class="c1">// 无限循环！</span>

<span class="c1">// 正确示例</span>
<span class="kt">unsigned</span> <span class="n">i</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">cnt</span><span class="o">-</span><span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cnt</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span>  <span class="c1">// 利用回绕特性</span>
</code></pre></div></div> <h4 id="122-c语言陷阱">12.2 C语言陷阱</h4> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// sizeof返回size_t (无符号类型)</span>
<span class="cp">#define DELTA sizeof(int)
</span><span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">CNT</span><span class="p">;</span> <span class="n">i</span><span class="o">-</span><span class="n">DELTA</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">-=</span> <span class="n">DELTA</span><span class="p">)</span>  <span class="c1">// 可能出错</span>
</code></pre></div></div> <hr> <p><strong>总结要点</strong>：</p> <ol> <li>理解位级表示的重要性</li> <li>掌握有符号/无符号转换规则</li> <li>注意整数运算的溢出行为</li> <li>谨慎使用无符号类型</li> <li>了解不同架构的字节序差异</li> </ol> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesof_ML/">notes of ML</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesofvci/">notes of VCI</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesofaip/">notes of AIP</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesof_aimath/">notes of AI Math Fundamentals</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/09/08/notesof_ICS/">notes of ICS</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 stibiums liu. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: September 14, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?58fdb075e5aa03fbb8617845abde746c"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>